Настройка git

Имя пользователя:
$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com

Выбор редактора:
$ git config --global core.editor emacs

Утилита сравнения:
$ git config --global merge.tool vimdiff

Проверка настроек:
$ git config --list
$ git config user.name


Основы Git.

Создание репозитория:
$ git init

Клонирование репозитория:
$ git clone git://github.com/schacon/grit.git mygrit

Добавление файлов в отслеживаемые (staged) - как новых, так и измененных:
$ git add

Отслеживание статуса:
$ git status			-	список измененных файлов
$ git diff				-	дополнительно diff для измененных файлов
$ git diff --staged		-	diff для staged файлов

.gitignore
# комментарий — эта строка игнорируется
*.a # не обрабатывать файлы, имя которых заканчивается на .a
!lib.a # НО отслеживать файл lib.a, несмотря на то, что мы игнорируем все .a файлы с помощью предыдущего правила
/TODO # игнорировать только файл TODO находящийся в корневом каталоге, не относится к файлам вида subdir/
TODO
build/ # игнорировать все файлы в каталоге build/
doc/*.txt # игнорировать doc/notes.txt, но не doc/server/arch.txt

Фиксация изменений:
$ git commit -m "Commit message"		-	коммит только проиндексированных файлов
$ git commit -a -m "Commit message"		-	коммит всех отслеживаемых файлов (в т.ч. не проиндексированных)

Удаление файлов:
$ git rm file_name						-	удаляет уже когда-то закоммиченный файл из гита и с диска
$ git rm --cached file_name				-	удаляет файл из гита, но оставляет на диске
$ git rm -f file_name					-	удаляет добавленный, но не закоммиченный файл с диска

Перемещение файла:
$ git mv file_from file_to				-	по факту гит определяет это как переименование файла

История изменений:
$ git log 					-	показывает историю коммитов в обратном хронологическом порядке
$ git log -p -2				-	также показывает diff между коммитами, -2 ограничивает число коммитов до 2х
$ git log --stat			- 	краткая статистика по коммитам
$ git log --pretty=oneline	-	разный формат вывода (также возможны short, full, fuller)
$ git log --pretty=format:"%h - %an, %ar : %s"	-	задать кастомный формат вывода
Параметр 	Описание выводимых данных
`%H`	Хеш коммита
`%h`	Сокращенный хеш коммита
`%T`	Хеш дерева
`%t`	Сокращенный хеш дерева
`%P`	Хеши родительских коммитов
`%p`	Сокращенные хеши родительских коммитов
`%an`	Имя автора
`%ae`	Электронная почта автора
`%ad`	Дата автора (формат соответствует параметру --date= )
`%ar`	Дата автора, относительная (пр. "2 мес. назад")
`%cn`	Имя коммитера
`%ce`	Электронная почта коммитера
`%cd`	Дата коммитера
`%cr`	Дата коммитера, относительная
`%s`	Комментарий

$ git log --pretty=format:"%h %s" --graph	-	также выводит тестовый граф ветвлений и слияний

Ограничение вывода истории изменений:
$ git log --since=2.weeks		-	изменения за последние 2 недели
$ git log --until=2008-01-15	-	изменения, сделанные до этой даты
Также возможны опции: --author=name --no-merges --committer=name --grep=text (commit message содержит указанный текст)


Отмена изменений
Изменение последнего коммита:
$ git commit --amend
1